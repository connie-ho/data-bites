{% extends "layout.html" %}

{% block title %}
data['details']['name']
{% endblock %}

{% block main %}
    <h1>{{ data['details']['name'] }}</h1>
    
    {% for col in data['details'] %}
    <div class="d-flex col">
        <p class="mr-2"> {{col}}:</p>
        <p>{{data['details'][col]}}</p>
    </div>
    {% endfor %}
    <div class="d-flex col">
        <p class="mr-2">categories:</p>
        {% for elem in data['categories'] %}
            <p class="mr-2">{{elem[0]}}</p>
        {% endfor %}
    </div>
    <div class="d-flex col">
        <p class="mr-2">attributes:</p>
        {% for elem in data['attributes'] %}
            <p class="mr-2">{{elem[0]}}</p>
        {% endfor %}
    </div>
    
    <h2>Reviews</h2>
    <a href=/{{data["business_id"]}}/review>Leave a review</a>
    <table class="table">
        <thead>
            <tr>
                <th>User</th>
                <th>Stars</th>
                <th>Text</th>
                <th>Date</th>
                <th>Useful</th>
                <th>Funny</th>
                <th>Cool</th>
            </tr>
        </thead>
        
        <tbody>
            {% for review in data['reviews'] %}
            <tr>
                <td>{{review['user_id']}}</td>
                <td>{{review['stars']}}</td>
                <td>{{review['text']}}</td>
                <td>{{review['date']}}</td>
                <td>{{review['useful']}}</td>
                <td>{{review['funny']}}</td>
                <td>{{review['cool']}}</td>
            </tr>
            {% endfor %}
        </tbody>
    <table>
{% endblock %}
